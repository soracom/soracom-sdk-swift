//
// BillingAPI.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

import Foundation
import Alamofire



open class BillingAPI {
    /**
     * enum for parameter exportMode
     */
    public enum ExportMode_exportBilling: String { 
        case async = "async"
        case sync = "sync"
    }

    /**
     Output billing CSV file to S3.
     
     - parameter yyyyMM: (path) yyyyMM 
     - parameter exportMode: (query) export_mode (async, sync) (optional)
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func exportBilling(yyyyMM: String, exportMode: ExportMode_exportBilling? = nil, completion: @escaping ((_ data: FileExportResponse?,_ error: Error?) -> Void)) {
        exportBillingWithRequestBuilder(yyyyMM: yyyyMM, exportMode: exportMode).execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Output billing CSV file to S3.
     - POST /bills/{yyyyMM}/export
     - Returns detailed information for the billing amounts for the specified month. This detailed information includes billing amounts per day, subscriber, and billing item.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "exportedFilePath" : "exportedFilePath",
  "exportedFileId" : "exportedFileId",
  "url" : "url"
}}]
     
     - parameter yyyyMM: (path) yyyyMM 
     - parameter exportMode: (query) export_mode (async, sync) (optional)

     - returns: RequestBuilder<FileExportResponse> 
     */
    open class func exportBillingWithRequestBuilder(yyyyMM: String, exportMode: ExportMode_exportBilling? = nil) -> RequestBuilder<FileExportResponse> {
        var path = "/bills/{yyyyMM}/export"
        path = path.replacingOccurrences(of: "{yyyyMM}", with: "\(yyyyMM)", options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems(values:[
            "export_mode": exportMode?.rawValue
        ])
        

        let requestBuilder: RequestBuilder<FileExportResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "POST", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     * enum for parameter exportMode
     */
    public enum ExportMode_exportLatestBilling: String { 
        case async = "async"
        case sync = "sync"
    }

    /**
     Export latest billing CSV file to S3.
     
     - parameter exportMode: (query) export_mode (async, sync) (optional)
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func exportLatestBilling(exportMode: ExportMode_exportLatestBilling? = nil, completion: @escaping ((_ data: FileExportResponse?,_ error: Error?) -> Void)) {
        exportLatestBillingWithRequestBuilder(exportMode: exportMode).execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Export latest billing CSV file to S3.
     - POST /bills/latest/export
     - Returns detailed information of the billing amounts for the latest month. This detailed information includes billing amounts per day, subscriber, and billing item. The amounts retrieved using this API correspond to the values before the invoice was finalized.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "exportedFilePath" : "exportedFilePath",
  "exportedFileId" : "exportedFileId",
  "url" : "url"
}}]
     
     - parameter exportMode: (query) export_mode (async, sync) (optional)

     - returns: RequestBuilder<FileExportResponse> 
     */
    open class func exportLatestBillingWithRequestBuilder(exportMode: ExportMode_exportLatestBilling? = nil) -> RequestBuilder<FileExportResponse> {
        let path = "/bills/latest/export"
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems(values:[
            "export_mode": exportMode?.rawValue
        ])
        

        let requestBuilder: RequestBuilder<FileExportResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "POST", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Get bill.
     
     - parameter yyyyMM: (path) year and month 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getBilling(yyyyMM: String, completion: @escaping ((_ data: MonthlyBill?,_ error: Error?) -> Void)) {
        getBillingWithRequestBuilder(yyyyMM: yyyyMM).execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Get bill.
     - GET /bills/{yyyyMM}
     - Returns the billing history for the specified month (after applied discounts such as free tiers, etc., inclusive of tax). The amounts retrieved using this API correspond to the values before the invoice was finalized.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "amount" : 0,
  "yearMonth" : "yyyyMM",
  "paymentTransactionId" : "paymentTransactionId",
  "paymentStatus" : "lessThanMinimumCharge"
}}]
     
     - parameter yyyyMM: (path) year and month 

     - returns: RequestBuilder<MonthlyBill> 
     */
    open class func getBillingWithRequestBuilder(yyyyMM: String) -> RequestBuilder<MonthlyBill> {
        var path = "/bills/{yyyyMM}"
        path = path.replacingOccurrences(of: "{yyyyMM}", with: "\(yyyyMM)", options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)


        let requestBuilder: RequestBuilder<MonthlyBill>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Get billing history.
     
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getBillingHistory(completion: @escaping ((_ data: GetBillingHistoryResponse?,_ error: Error?) -> Void)) {
        getBillingHistoryWithRequestBuilder().execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Get billing history.
     - GET /bills
     - Returns past billing history (after applied discounts such as free tiers, etc., inclusive of tax). This API only returns the billing amounts that have been finalized at the end of the month.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "billList" : [ {
    "amount" : 0,
    "yearMonth" : "yyyyMM",
    "paymentTransactionId" : "paymentTransactionId",
    "paymentStatus" : "lessThanMinimumCharge"
  }, {
    "amount" : 0,
    "yearMonth" : "yyyyMM",
    "paymentTransactionId" : "paymentTransactionId",
    "paymentStatus" : "lessThanMinimumCharge"
  } ]
}}]

     - returns: RequestBuilder<GetBillingHistoryResponse> 
     */
    open class func getBillingHistoryWithRequestBuilder() -> RequestBuilder<GetBillingHistoryResponse> {
        let path = "/bills"
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)


        let requestBuilder: RequestBuilder<GetBillingHistoryResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Get bill per day.
     
     - parameter yyyyMM: (path) year and month 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getBillingPerDay(yyyyMM: String, completion: @escaping ((_ data: DailyBillResponse?,_ error: Error?) -> Void)) {
        getBillingPerDayWithRequestBuilder(yyyyMM: yyyyMM).execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Get bill per day.
     - GET /bills/{yyyyMM}/daily
     - Returns detailed information of billing amounts per day for the specified month. This API only returns the billing amounts that have been finalized.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "billList" : [ {
    "date" : "yyyyMMdd",
    "amount" : 0
  }, {
    "date" : "yyyyMMdd",
    "amount" : 0
  } ]
}}]
     
     - parameter yyyyMM: (path) year and month 

     - returns: RequestBuilder<DailyBillResponse> 
     */
    open class func getBillingPerDayWithRequestBuilder(yyyyMM: String) -> RequestBuilder<DailyBillResponse> {
        var path = "/bills/{yyyyMM}/daily"
        path = path.replacingOccurrences(of: "{yyyyMM}", with: "\(yyyyMM)", options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)


        let requestBuilder: RequestBuilder<DailyBillResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Get latest bill.
     
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getLatestBilling(completion: @escaping ((_ data: GetLatestBill?,_ error: Error?) -> Void)) {
        getLatestBillingWithRequestBuilder().execute { (response, error) -> Void in
            completion(response?.body, error);
        }
    }


    /**
     Get latest bill.
     - GET /bills/latest
     - Returns the latest billing amounts after applied discounts such as free tiers, etc. The amounts retrieved using this API correspond to the values before the invoice was finalized.
     - API Key:
       - type: apiKey X-Soracom-API-Key 
       - name: api_key
     - API Key:
       - type: apiKey X-Soracom-Token 
       - name: api_token
     - examples: [{contentType=application/json, example={
  "lastEvaluatedTime" : "yyyyMMddHHmmss",
  "amount" : 0
}}]

     - returns: RequestBuilder<GetLatestBill> 
     */
    open class func getLatestBillingWithRequestBuilder() -> RequestBuilder<GetLatestBill> {
        let path = "/bills/latest"
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil

        let url = NSURLComponents(string: URLString)


        let requestBuilder: RequestBuilder<GetLatestBill>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

}
